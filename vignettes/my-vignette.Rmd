---
title: "AEDA - Vignette"
author: "Darya Bussen, Michael Graber, Tuan Le"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{AEDA - Vignette}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
fig_caption: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
devtools::load_all()
require(knitr)
```
## AEDA - Automated Exploratory Data Analysis

This Vignette is supposed to give you a introductory glance at the key features of `AEDA`. <br>
It shows you, how to use this package to simplify several task throughout the data exploration process. <br>
A more detailed in depth and continuously updated examples and wikipedia can be found on the GitHub project page:

* <a href="https://github.com/ptl93/AEDA" target="_blank"> AEDA Project Page </a>


### Purpose

Writing exploratory data analysis (EDA) scripts helps in extracting valuable information from the data but can be very time consuming. Often people are producing the same tables and figures again and again which could be automatized with EDA scripts. <br>
<br>
With this package we want to automate the process of creating an EDA report by providing functions which, one would normally script for each data type of dataset. Thereby we provide following functionalites:


1. **Basic Data Summary**
2. **Categorical Data Summary**
3. **Numeric Data Summary**
4. **Clustering Analysis**
5. **Principal Component Analysis**
6. **Multidimensional Scaling Analysis**
7. **Exploratory Factor Analysis**

<!--
<ol>
  <li <a href="#basicDataSummary"> <a>**Basic Data Summary** </a></li>
  <li id="catergoricalDataSummary">**Categorical Data Summary**</li>
  <li id="numericDataSummary">**Numeric Data Summary**</li>
  <li id="clusterinAnalysis">**Clustering Analysis**</li>
  <li id="pcAnalysis">**Principal Component Analysis**</li>
  <li id="mdsAnalysis">**Multidimensional Scaling Analysis**</li>
  <li id="efAnaylsis">**Exploratory Factor Analysis**</li>
</ol>
-->

In order to enable the user to either, create a fast EDA report, for the most functions we set default methods/arguments, like *k-means clustering* as method in the unsupervised clustering task. <br>
Apart from the default methods/arguments for each EDA step the user is able to modify the analysis step, by choosing other analysis algorithm. To come back to the last example, the user might also be interested in doing a hierarchical clustering analysis with *complete-linkage*. In the later subsection 4 we will refer to this again. 

The remaining of this documentation will be organized in accordance with the steps listed above. As the package evolves, more content will be added.

### General `AEDA` Pipeline
For all *analysis* steps (except) the basic data summary following steps should be executed in order to get an *analysis* into the final report:
<ol type="a">
  <li>`my.task = make*Task()`</li>
  <li>`my.analysis = make*Analysis()`</li>
  <li>`my.report = makeReport(my.analysis)`</li>
</ol>

After creating several `report`-objects with `makeReport()` (e.g `cluster.report`, `numeric.report`, `mds.report`) you can pass them over to the function `finishReport(cluster.report, numeric.report, mds.report)`
to create a final HTML-report, which will be created with `knitr`.

***
In the following a detailed summary for each analysis step will be displayed:

#### 1) Basic Data Summary
<!--  <h5 id="basicDataSummary"> 1) Basic Data Summary</h5>  --> 

In the basic data summary column-types like `integer`, `numeric`, or `character` etc. will be identified and according to each type accumulated. In addition to that the basic data summary contains a missing value summary such as listing column which contains `NAs` with absolute and percentage amount. An example will be display with this code snippet:

```{r basicDataSummaryEx1, echo=TRUE}
#load Data
data("airquality")
#create the task
basic.report.task = makeBasicReportTask(id = "airquality", data = airquality, target = "Wind")
#create the report
basic.report = makeReport(basic.report.task)
```
In order to have a look into the `basic.report`-object one can either `print()` the object or just call `basic.report` in the R-commandline.
```{r basicDataSummaryEx1ShowReportObj, echo=TRUE}
print(basic.report)

#To gain more insights you can look into the object with the $ operator:
basic.report$basic.data.summary$basic.summary.list$num
basic.report$basic.data.summary$basic.summary.list$int
basic.report$basic.data.summary$basic.summary.list$fact
```

Since the `airquality` dataset contains `NAs`, a missing value analysis is calculated as well by `makeBasicReportTask`. In order to look into the that simply use the `$`-Operator again:

```{r basicDataSummaryEx1ShowNADF, echo=TRUE}
basic.report$na.summary$na.df

#kable(basic.report$na.summary$na.df)
```
We provide 2 Missing-Value Plots. The first one shows the index of observation in which the value is missing for each column. The second one shows an overall percentage of missing value for each column.

```{r basicDataSummaryEx1ShowPlot1, echo=TRUE, fig.cap="Missing Value Plot Index", out.width="40%"}
basic.report$na.summary$image()
```
```{r basicDataSummaryEx1ShowPlot2, echo=TRUE, fig.cap="Missing Value Plot Percentage", out.width="40%"}
basic.report$na.summary$ggplot
```

#### 2) Categorical Data Summary

In the categorical data summary 1-D frequency tables and 2-D contingency tables for categorical variables will be calculated. In addition to that, the internal function `plotBar()`from our package computes a `ggplot` for all categorical variables. The user is able to modify the `geom_bar()` arguments if wanted in within the task initialized by `makeCatSumTask()`.
For more Information look at `?makeCatSumTask`. <br> 
In this example we use the default arguments.

```{r CategeoricalDataSummaryEx1, echo=TRUE}
#load data
data("Arthritis", package = "vcd")
#create the task
cat.sum.task = makeCatSumTask(id = "Arthritis.Task", data = Arthritis, target = "Improved")
#compute the analysis
cat.sum.analysis = makeCatSum(cat.sum.task)
#create the report
cat.sum.report = makeReport(cat.sum.analysis)

#have a look at the 1-D absolute frequency tables
cat.sum.report$cat.sum$freq

#have a look at the 2-D absolute contingecy tables
cat.sum.report$cat.sum$contg.list
```

To access the bar plots we can use the `$`-operator again. Note that in our package we have the internal function `multiplot()` which can plot a `list` of `ggplot`-objects in a grid. To call the `multiplot()` function simply run: 

```{r CategeoricalDataSummaryPlotBar, echo=TRUE, results="asis", out.width="50%"}
#multiplot(plotlist = cat.sum.report$cat.sum$plot.list, cols = 2)
cat.sum.report$cat.sum$plot.list[[1]]
```
